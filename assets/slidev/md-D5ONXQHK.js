import{M as L,N as D}from"../modules/unplugin-icons-Bmhb8--w.js";import{d as E,t as H,Q as M,D as x,O as V,z as S,aD as R,o as c,b as $,f as q,B as d,c as m,g as P,i as j,h as z,k as A,e,l as F,m as K,q as T,s as W,aa as a}from"../modules/vue-9M24w38T.js";import{v as w,ad as Y,C as O,ae as Q,af as U}from"../index-B1Tze_oo.js";import{u as B,f as X}from"./context-B_AdNMTE.js";import{I as G}from"./default-C9_7IS2v.js";import"../modules/shiki-D165QSPi.js";const J=["title"],Z=E({__name:"CodeBlockWrapper",props:{ranges:{type:Array,default:()=>[]},finally:{type:[String,Number],default:"last"},startLine:{type:Number,default:1},lines:{type:Boolean,default:w.lineNumbers},at:{type:[String,Number],default:"+1"},maxHeight:{type:String,default:void 0}},setup(k){const s=k,{$clicksContext:r}=B(),i=H(),u=Y();M(()=>{r.unregister(u)}),x(()=>{var t;(t=i.value)==null||t.classList.toggle("slidev-code-line-numbers",s.lines)}),V(()=>{var h;if(!r||!((h=s.ranges)!=null&&h.length))return;const t=r.calculateSince(s.at,s.ranges.length-1);r.register(u,t);const l=S(()=>t?Math.max(0,r.current-t.start+1):O),o=S(()=>s.finally==="last"?s.ranges.at(-1):s.finally.toString());x(()=>{if(!i.value)return;let p=s.ranges[l.value]??o.value;const y=p==="hide";i.value.classList.toggle(Q,y),y&&(p=s.ranges[l.value+1]??o.value);const v=i.value.querySelector(".shiki"),C=Array.from(v.querySelectorAll("code > .line")),I=C.length;if(U(p,I,s.startLine,n=>[C[n]]),s.maxHeight){const n=Array.from(v.querySelectorAll(".line.highlighted"));n.reduce((b,N)=>N.offsetHeight+b,0)>i.value.offsetHeight?n[0].scrollIntoView({behavior:"smooth",block:"start"}):n.length>0&&n[Math.round((n.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}})});const{copied:g,copy:_}=R();function f(){var l,o;const t=(o=(l=i.value)==null?void 0:l.querySelector(".slidev-code"))==null?void 0:o.textContent;t&&_(t)}return(t,l)=>{const o=L,h=D;return c(),$("div",{ref_key:"el",ref:i,class:j(["slidev-code-wrapper relative group",{"slidev-code-line-numbers":s.lines}]),style:z({"max-height":s.maxHeight,"overflow-y":s.maxHeight?"scroll":void 0,"--start":s.startLine})},[q(t.$slots,"default"),d(w).codeCopy?(c(),$("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:d(g)?"Copied":"Copy",onClick:l[0]||(l[0]=p=>f())},[d(g)?(c(),m(o,{key:0,class:"p-2 w-8 h-8"})):(c(),m(h,{key:1,class:"p-2 w-8 h-8"}))],8,J)):P("v-if",!0)],6)}}}),ee=e("h1",null,"Step 10: Exercise",-1),se={class:"dense"},te=e("ul",null,[e("li",null,[a("In "),e("code",null,"src/pages/index.js"),a(" export a "),e("code",null,"getServerSideProps"),a(" async function that asynchronously calls the "),e("code",null,"movieResultsFromDefaultYear()"),a(" function")]),e("li",null,[a("Return an object with a "),e("code",null,"props"),a(" property that has a nested "),e("code",null,"preloadedMovies"),a(" property with the movies data from "),e("code",null,"movieResultsFromDefaultYear()"),a(". E.g.")])],-1),ae=e("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[e("code",{class:"language-js"},[e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"{")]),a(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"  props"),e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},":"),e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),a(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    preloadedMovies"),e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},":"),e("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," dataFromFunctionCall")]),a(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"  }")]),a(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"}")])])],-1),ie={__name:"slides.md__slidev_43",setup(k){const{$slidev:s,$nav:r,$clicksContext:i,$clicks:u,$page:g,$renderContext:_,$frontmatter:f}=B();return i.setup(),(t,l)=>{const o=Z;return c(),m(G,T(W(d(X)(d(f),42))),{default:A(()=>[ee,e("div",se,[te,F(o,K({},{ranges:[]}),{default:A(()=>[ae]),_:1},16)])]),_:1},16)}}},pe=ie;export{pe as default};
