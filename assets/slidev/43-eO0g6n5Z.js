import{H as D,I as R}from"../modules/unplugin-icons-X2BBXqsl.js";import{d as $,t as F,ay as M,C as x,_ as P,y as S,az as j,o as c,b as w,f as z,A as d,c as g,g as W,i as T,h as Y,k as A,e,l as K,m as U,q as G,s as J,a0 as s}from"../modules/vue-6JIR2-ud.js";import{c as B,an as O,ao as Q,ap as X,b as I,aq as H}from"../index-lFThUpK3.js";import{u as N,p as Z,f as ee}from"./context-g9WaurNs.js";import{I as te}from"./default-fZJ7mNPP.js";import"../modules/shiki-ioKdsmC-.js";const se=["title"],ae=$({__name:"CodeBlockWrapper",props:{ranges:{type:Array,default:()=>[]},finally:{type:[String,Number],default:"last"},startLine:{type:Number,default:1},lines:{type:Boolean,default:B.lineNumbers},at:{type:[String,Number],default:"+1"},maxHeight:{type:String,default:void 0}},setup(m){const t=m,{$clicksContext:n}=N(),a=F(),f=O();M(()=>{n.unregister(f)}),x(()=>{var o;(o=a.value)==null||o.classList.toggle("slidev-code-line-numbers",t.lines)}),P(()=>{var _;if(!n||!((_=t.ranges)!=null&&_.length))return;const{start:o,end:i,delta:r}=n.resolve(t.at,t.ranges.length-1);n.register(f,{max:i,delta:r});const p=S(()=>Math.max(0,n.current-o+1)),h=S(()=>t.finally==="last"?t.ranges.at(-1):t.finally.toString());x(()=>{if(!a.value)return;let u=t.ranges[p.value]??h.value;const y=u==="hide";a.value.classList.toggle(Q,y),y&&(u=t.ranges[p.value+1]??h.value);const v=a.value.querySelector(".shiki"),C=Array.from(v.querySelectorAll("code > .line")),V=C.length;if(X(u,V,t.startLine,l=>[C[l]]),t.maxHeight){const l=Array.from(v.querySelectorAll(".line.highlighted"));l.reduce((b,q)=>q.offsetHeight+b,0)>a.value.offsetHeight?l[0].scrollIntoView({behavior:"smooth",block:"start"}):l.length>0&&l[Math.round((l.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}})});const{copied:k,copy:E}=j();function L(){var i,r;const o=(r=(i=a.value)==null?void 0:i.querySelector(".slidev-code"))==null?void 0:r.textContent;o&&E(o)}return(o,i)=>{const r=D,p=R;return c(),w("div",{ref_key:"el",ref:a,class:T(["slidev-code-wrapper relative group",{"slidev-code-line-numbers":t.lines}]),style:Y({"max-height":t.maxHeight,"overflow-y":t.maxHeight?"scroll":void 0,"--start":t.startLine})},[z(o.$slots,"default"),d(B).codeCopy?(c(),w("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:d(k)?"Copied":"Copy",onClick:i[0]||(i[0]=h=>L())},[d(k)?(c(),g(r,{key:0,class:"p-2 w-8 h-8"})):(c(),g(p,{key:1,class:"p-2 w-8 h-8"}))],8,se)):W("v-if",!0)],6)}}}),oe=I(ae,[["__file","/home/runner/work/react-patterns-workshop/react-patterns-workshop/node_modules/@slidev/client/builtin/CodeBlockWrapper.vue"]]),ie=e("h1",null,"Step 10: Exercise",-1),le={class:"dense"},ne=e("ul",null,[e("li",null,[s("In "),e("code",null,"src/pages/index.js"),s(" export a "),e("code",null,"getServerSideProps"),s(" async function that asynchronously calls the "),e("code",null,"movieResultsFromDefaultYear()"),s(" function")]),e("li",null,[s("Return an object with a "),e("code",null,"props"),s(" property that has a nested "),e("code",null,"preloadedMovies"),s(" property with the movies data from "),e("code",null,"movieResultsFromDefaultYear()"),s(". E.g.")])],-1),re=e("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[e("code",{class:"language-js"},[e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"  props"),e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},":"),e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"    preloadedMovies"),e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},":"),e("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," dataFromFunctionCall")]),s(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"  }")]),s(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"}")])])],-1),ce={__name:"43",setup(m){return Z(H),N(),(t,n)=>{const a=oe;return c(),g(te,G(J(d(ee)(d(H),42))),{default:A(()=>[ie,e("div",le,[ne,K(a,U({},{ranges:[]}),{default:A(()=>[re]),_:1},16)])]),_:1},16)}}},ke=I(ce,[["__file","/@slidev/slides/43.md"]]);export{ke as default};
